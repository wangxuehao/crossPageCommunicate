<html>
<head>
  <title>postMessage Demo - iframe subPage</title>
</head>
<body>
  <p>sub page</p>
  <input type="input" id="input">
  <input type="button" value="send message" onclick="postMessageToIframe()">
  <iframe src="http://iframe.iqiyi.com:9021/test/a/iframe.html" id="iframe"></iframe>
</body>
</html>
<script>
  function postMessageToIframe(){
    var inputVal = document.getElementById('input').value;
    var iframe = document.getElementById('iframe');
    var targetOrigin = '*'; 
    iframe.contentWindow.postMessage(inputVal,targetOrigin);
  }
  
  window.addEventListener('message',function(event){
    onMessage(event);
  },false);

  function onMessage(event){
    // console.log(event.origin +' '+event.data+' '+event.source);
    console.log(event.origin +' '+event.data);
  }

</script>