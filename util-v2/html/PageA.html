<html>
<head>
  <title>Page A</title>
  <script type="text/javascript" src = "http://localhost:9023/util-v2/lib/lib.js"></script>
</head>
<body>
  <p>Page A</p>
  <input type="input" id="input">
  <input type="button" value="send message" onclick="fireEvent1()">
  <br>
</body>
</html>
<script>
  var utilEvent = window.u.event;
  utilEvent.on('demoType',function(event){
    eventHandler(event);
  });
  // setTimeout(function(){
  //   utilEvent.un('demoType')
  // },5000);

  function fireEvent1(){
    var eventType = "demoType";
    var eventData = document.getElementById('input').value;

// eventData = {
//   "abc":123,
//   "cde":false,
//   "ggg":"false",
//   "aaa":"66sad6"
// };
// eventData = '{"abc":123,"cde":false,"ggg":"false","aaa":"66sad6"}';
// eventData =[1,2,3];
// eventData =[];
// utilEvent.fire(eventType,eventData);
// eventData ={};
// utilEvent.fire(eventType,eventData);
// eventData ="";
// utilEvent.fire(eventType,eventData);
// eventData ="abc";
// utilEvent.fire(eventType,eventData);
// eventData =123;
// utilEvent.fire(eventType,eventData);
// eventData =true;
// utilEvent.fire(eventType,eventData);
// eventData =false;
// utilEvent.fire(eventType,eventData);
// eventData ="false";
// utilEvent.fire(eventType,eventData);

    utilEvent.fire(eventType,eventData);
  }

  var index = 0;
  function eventHandler(event){
    var eventType = event.type;
    var eventData = event.data;
console.log(eventData);
    var p = document.createElement('p');
    p.innerHTML= ++index+":  "+"eventType："+eventType +"; "+"eventData："+eventData;
    document.body.appendChild(p);
  }
</script>